# ============================================
# DATABASE CONFIGURATION
# ============================================
# Full connection string for Prisma
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# Note: Special characters in password must be URL-encoded (e.g., @ becomes %40)
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/chefflow?schema=public"

# Individual database credentials (used by Docker Compose)
DATABASE_USER="postgres"
DATABASE_PASSWORD="postgres"
POSTGRES_DB="chefflow"

# ============================================
# APPLICATION SETTINGS
# ============================================
# Environment: "development" or "production"
# Affects: cookie settings, CSP, logging behavior
NODE_ENV="development"

# Port the application listens on
PORT=4000

# ============================================
# SECURITY - JWT CONFIGURATION
# ============================================
# IMPORTANT: Generate strong secrets for production using:
# openssl rand -base64 32

# Access token secret (used for main authentication)
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"

# Access token expiration (default: "15m" for 15 minutes)
# Shorter is more secure but requires more frequent refreshes
JWT_EXPIRES_IN="15m"

# Refresh token secret (used for token renewal)
JWT_REFRESH_SECRET="your-super-secret-refresh-token-change-this-in-production"

# ============================================
# CORS & FRONTEND CONFIGURATION
# ============================================
# Frontend URL for OAuth redirects
FRONTEND_URL="http://localhost:3000/"

# Comma-separated list of allowed origins for CORS
# Add your frontend URLs here (no spaces between commas)
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:5173,http://localhost:4200"

# Cookie configuration for cross-origin scenarios
# Set to "true" when using HTTPS backend with localhost frontend
# Set to "false" for standard HTTP development (default)
# Effects: secure=true + sameSite='none' (requires HTTPS)
FORCE_CROSS_ORIGIN_COOKIES=false

# ============================================
# RATE LIMITING
# ============================================
# Time window in milliseconds (default: 60000 = 1 minute)
THROTTLE_TTL=60000

# Maximum requests per time window (default: 10)
THROTTLE_LIMIT=10

# ============================================
# GOOGLE OAUTH2 (OPTIONAL - NOT YET IMPLEMENTED)
# ============================================
# Obtain credentials from: https://console.cloud.google.com/apis/credentials
# Uncomment and configure if you want to enable Google OAuth
# GOOGLE_CLIENT_ID="your-google-client-id"
# GOOGLE_CLIENT_SECRET="your-google-client-secret"
# GOOGLE_CALLBACK_URL="http://localhost:4000/auth/google/callback"
