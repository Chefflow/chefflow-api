generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model User {
  id                 Int          @id @default(autoincrement())
  username           String       @unique
  email              String       @unique
  passwordHash       String?      
  hashedRefreshToken String?
  name               String?
  image              String?
  provider           AuthProvider @default(LOCAL)
  providerId         String?      
  createdAt          DateTime     @default(now())
  updatedAt          DateTime     @updatedAt

  @@index([provider, providerId])
}

enum AuthProvider {
  LOCAL
  GOOGLE
  APPLE
  GITHUB
}